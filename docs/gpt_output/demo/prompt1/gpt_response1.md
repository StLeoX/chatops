# 服务器故障注入测试报告

## 演练目的

本次服务器故障注入测试的主要目标是对系统的稳定性和可靠性进行检验。通过模拟网络延迟的故障，我们可以观察系统在不同网络状态下的表现，从而评估系统的健壮性和故障恢复能力。演练的业务目的是确保在真实的故障情况发生时，系统能够保持正常运行或快速恢复，减少业务中断的时间和影响。技术目的则是验证和优化故障检测、定位、恢复等流程，提升系统的整体运维能力。

在流程图数据中，chaosType为"NetworkChaos"，表明本次演练主要关注网络层面的故障模拟，具体是通过注入网络延迟来模拟不稳定的网络环境，从而达到测试和提高系统容错性、稳定性的目的。

## 演练范围

### 故障演练1: 用户服务网络延迟

- **故障演练ID**: fault-18c36a2d
- **服务范围**: 用户服务（user）
- **故障类型**: 网络延迟（NetworkChaos）
- **故障描述**: 本演练将500毫秒的固定延迟和500毫秒的抖动及50%的相关性注入用户服务。目标是评估网络延迟对用户服务稳定性和性能的影响。故障覆盖所有标记为"name: user"的服务，属于命名空间"sock-shop"。

### 故障演练2: 前端服务网络延迟

- **故障演练ID**: fault-bc93c7c9
- **服务范围**: 前端服务（front-end）
- **故障类型**: 网络延迟（NetworkChaos）
- **故障描述**: 本演练将500毫秒的固定延迟和500毫秒的抖动及50%的相关性注入前端服务。目标是评估网络延迟对于前端服务稳定性和用户交互体验的影响。通过模拟这种延迟，可以观察并分析前端服务在不理想的网络条件下的表现和容错机制。故障覆盖所有标记为"name: front-end"的服务，属于命名空间"sock-shop"。

### 故障演练3: 产品目录服务网络延迟

- **故障演练ID**: fault-3da791f4
- **服务范围**: 产品目录服务（catalogue）
- **故障类型**: 网络延迟（NetworkChaos）
- **故障描述**: 本演练向产品目录服务注入500毫秒的固定延迟和500毫秒的抖动，以及50%的相关性。目标是评估网络延迟对产品目录服务的稳定性和响应时间的影响。故障覆盖所有标记为"name: catalogue"的服务，属于命名空间"sock-shop"。

## 演练流程图描述

### 故障注入执行流程

本次故障注入整体是并行执行的，具体执行流程如下：

1. **并行演练启动**: 三个故障演练（fault-18c36a2d、fault-bc93c7c9、fault-3da791f4）几乎同时开始，展现了在实际环境中可能同时发生的多点故障场景。
2. **故障注入与恢复**: 每个故障演练包含了故障注入、等待和恢复三个步骤，模拟了从故障发生到处理恢复的完整过程。

### 故障演练细节

- **fault-18c36a2d**:
  - 开始时间: 2023-11-06 07:22:14
  - 结束时间: 2023-11-06 07:27:16
  - 结束原因: 正常完成
  - 子动作时间:
    - 故障注入: 2023-11-06 07:22:14 - 2023-11-06 07:27:18
    - 等待: 2023-11-06 07:22:16 - 2023-11-06 07:27:18
    - 恢复: 2023-11-06 07:27:16 - 2023-11-06 07:27:18

- **fault-bc93c7c9**:
  - 开始时间: 2023-11-06 07:22:14
  - 结束时间: 2023-11-06 07:27:17
  - 结束原因: 正常完成
  - 子动作时间:
    - 故障注入: 2023-11-06 07:22:14 - 2023-11-06 07:27:18
    - 等待: 2023-11-06 07:22:17 - 2023-11-06 07:27:18
    - 恢复: 2023-11-06 07:27:17 - 2023-11-06 07:27:18

- **fault-3da791f4**:
  - 开始时间: 2023-11-06 07:22:14
  - 结束时间: 2023-11-06 07:27:18
  - 结束原因: 正常完成
  - 子动作时间:
    - 故障注入: 2023-11-06 07:22:15 - 2023-11-06 07:27:18
    - 等待: 2023-11-06 07:22:17 - 2023-11-06 07:27:18
    - 恢复: 2023-11-06 07:27:18 - 2023-11-06 07:27:18
